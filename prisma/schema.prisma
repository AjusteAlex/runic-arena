// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Card {
  id       Int             @id @default(autoincrement())
  name     String
  picture  String
  strenght String
  skills   SkillsOnCards[]
  classe   Classe @relation(fields: [classeid], references: [id])
  classeid  Int
  type     Type @relation(fields: [typeid], references: [id])
  typeid    Int
  // colors   ColorsSkillsCards[]
}

model Skill {
  id          Int                 @id @default(autoincrement())
  attribute   String
  name        String
  description String
  // colors    ColorsSkillsCards[]
  abilities   AbilitiesOnSkills[]
  cards       SkillsOnCards[]
}

model Ability {
  id          Int                 @id @default(autoincrement())
  name        String
  description String
  value       Int
  state       String
  skills      AbilitiesOnSkills[]
}

model Color {
  id              Int              @id @default(autoincrement())
  color           String
  // cards        ColorsSkillsCards[]
}

model Classe {
  id       Int             @id @default(autoincrement())
  name     String
  cards    Card[]
}

model Type {
  id       Int             @id @default(autoincrement())
  name     String
  cards    Card[]
}

model AbilitiesOnSkills {
  skill     Skill   @relation(fields: [skillId], references: [id], onDelete: Cascade)
  skillId   Int
  ability   Ability @relation(fields: [abilityId], references: [id], onDelete: Cascade)
  abilityId Int

  @@id([skillId, abilityId])
}

model SkillsOnCards {
  skill   Skill @relation(fields: [skillId], references: [id], onDelete: Cascade)
  skillId Int
  card    Card  @relation(fields: [cardId], references: [id], onDelete: Cascade)
  cardId  Int

  @@id([skillId, cardId])
}

// model ColorsSkillsCards {
    // skill   Skill @relation(fields: [skillId], references: [id], onDelete: Cascade)
    // skillId Int
    // card    Card  @relation(fields: [cardId], references: [id], onDelete: Cascade)
    // cardId  Int
    // color    Color  @relation(fields: [colorId], references: [id], onDelete: Cascade)
    // colorId  Int
    //   @@id([skillId, cardId, colorId])
// }
